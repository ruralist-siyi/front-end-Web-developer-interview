### React-Hooks

#### 一、什么是Hook 

1. Hook是React v16.8（RN v0.59）新增的特性，是一个完全可选的（就是你可以暂时不用它，没啥毛病）,它100%向后兼容，无需担心会带来任何破坏性改动;
2. 更符合我们React的精髓-函数式编程，Hook可以再不编写class的情况下使用state以及其他的React特性；

#### 二、为什么要使用Hook（好处在哪里）

##### 1. 过去我们是如何解决React应用中的状态逻辑复用

- *Hoc* 

  接受React组件作为输入，输出一个新的React组件的组件。高阶组件和装饰器是一个模式，高阶组件可以当作装饰器使用。（更改props、劫持class的render内容等）

- *renderProps*

  1. 通过props.children 传递的一个接受props参数的渲染函数
  2. 通过正常的props传递一个render函数props

###### Hoc与renderProps带来的问题	

*复杂的组件设计会造成Hoc或者renderProps的嵌套过深，让代码变得难以理解；*

##### 2.  传统的生命周期带来的问题

- 同一生命周期函数中可能包含不相关的的逻辑，比如说在`componmentDidMount`中设置事件监听，而之后需要在`componmentWillunmount`中清除；相互关联且需要对照修改的代码被进行了拆分，而完全不相关的代码却在同一个方法中组合在一起。如此很容易产生 bug，并且导致逻辑不一致。
- 在多数情况下，不可能将组件拆分为更小的粒度，因为状态逻辑无处不在。这也给测试带来了一定挑战。同时，这也是很多人将 React 与状态管理库结合使用的原因之一。但是，这往往会引入了很多抽象概念，需要你在不同的文件之间来回切换，使得复用变得更加困难。

##### 3. class component带来的问题

- 现在我们日常开发中使用class component的频率是非常之高的，但是使用class component的成本是不低的。class 语法是我们ES6新增的一个语法糖，核心还是我们的原型（prototype），class语法实际上对于一些新手是不友好的， 更偏向于面向对象编程。并且我们在class component中还要去进行一些bind this的操作，而`this`又是前端较为难以理解的一个知识点。
- 目前项目中使用最多的还是class component与 function component 两种形式的组件，这两种组件的差异还是存在一定的分歧的，我们开发中时常还要考虑说为了某种功能以及特定的场景去区分使用这两种组件：`尽可能将单纯展示的view层抽出来使用function component形式`。（但是好多时候开发者并不能够很好的使用这两种形式，也可以说这样开发也挺心累）
- 为了组件的状态逻辑复用
- 在React官方文档上也指出 React 已经发布五年，希望在下一个五年也会与时俱进。现在很多其他的库带来了组件预编译的能力，class componment可能会让这种优化措施无效。并且 class 不能很好的压缩，且会使热重载出现不稳定的情况。











